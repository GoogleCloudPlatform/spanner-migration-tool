<div class="sessions-wrapper" *ngIf="dataSource.length > 0">
  <h3 class="conv-history">Conversion history</h3>
  <div class="summary">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</div>
  <br />
  <div class="example-container mat-elevation-z3">
    <table mat-table [dataSource]="dataSource">
      <ng-container matColumnDef="SessionName">
        <th mat-header-cell *matHeaderCellDef>Session Name</th>
        <td mat-cell *matCellDef="let element">{{ element.SessionName }}</td>
      </ng-container>

      <ng-container matColumnDef="EditorName">
        <th mat-header-cell *matHeaderCellDef>Editor Name</th>
        <td mat-cell *matCellDef="let element">{{ element.EditorName }}</td>
      </ng-container>

      <ng-container matColumnDef="DatabaseType">
        <th mat-header-cell *matHeaderCellDef>Database Type</th>
        <td mat-cell *matCellDef="let element">{{ element.DatabaseType }}</td>
      </ng-container>

      <ng-container matColumnDef="DatabaseName">
        <th mat-header-cell *matHeaderCellDef>Database Name</th>
        <td mat-cell *matCellDef="let element">{{ element.DatabaseName }}</td>
      </ng-container>

      <ng-container matColumnDef="Notes">
        <th mat-header-cell *matHeaderCellDef>Notes</th>
        <td mat-cell *matCellDef="let element; let i = index">
          <button class="notes-toggle-button" (click)="notesToggle[i] = !notesToggle[i]">
            ...
          </button>
          {{
            notesToggle[i]
              ? element.Notes.join(', ')
              : element.Notes.join(', ').substring(0, 20) + '...'
          }}
        </td>
      </ng-container>

      <ng-container matColumnDef="CreatedOn">
        <th mat-header-cell *matHeaderCellDef>Created On</th>
        <td mat-cell *matCellDef="let element">{{ element.CreatedOn }}</td>
      </ng-container>

      <!-- Actions-->
      <ng-container matColumnDef="Action">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">
          <button mat-button color="primary" (click)="ResumeFromSessionFile(element.VersionId)">
            Resume
          </button>

          <button mat-button color="primary" (click)="downloadSessionFile(element.VersionId)">
            Download
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>
